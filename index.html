<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz K3 Nasional 2026</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: white;
    padding: 15px;
    text-align: center;
  }

  h1 { margin-bottom: 4px; font-size: 22px; }
  h2 { margin-top: 0; font-size: 16px; }

  .panel {
    margin: 15px 0;
  }

  input {
    padding: 8px;
    font-size: 16px;
    text-transform: uppercase;
    width: 160px;
  }

  button {
    padding: 8px 14px;
    font-size: 16px;
    cursor: pointer;
  }

  .score {
    margin-top: 10px;
    font-size: 18px;
    font-weight: bold;
  }

  .msg {
    margin-top: 6px;
    font-weight: bold;
  }

  table {
    border-collapse: collapse;
    margin: auto;
    max-width: 100%;
  }

  td {
    border: 1px solid #000;
    width: 32px;
    height: 32px;
    font-size: 16px;
    font-weight: bold;
    text-align: center;
  }

  .highlight {
    background: gold;
  }

  /* === RESPONSIVE MOBILE === */
  @media (max-width: 768px) {
    td {
      width: 5vw;
      height: 5vw;
      font-size: 3vw;
    }
  }
</style>
</head>

<body>

<h1>QUIZ K3 NASIONAL 2026</h1>
<h2>RS PREMIER JATINEGARA</h2>

<div class="panel">
  <input id="searchWord" placeholder="Cari kata...">
  <button onclick="searchWord()">Cari</button>
  <div class="score">Skor: <span id="score">0</span></div>
  <div id="message" class="msg"></div>
</div>

<table id="grid"></table>

<script>
const WORDS = [
 "YOGATAMA","ALVIAN","VERONICA","CHRISTY","RIAHERAWATI",
 "CARDIACWARD","COLUMBIAASIA","BINTARO","EMERGENCY","SPESIALIS",
 "CTSCAN","PENSIUN","PURCHASING","PERSONALIA","STETOSKOP",
 "JARUM","INFUS","JAMSOSTEK","PREMIER","RADIOLOGI",
 "REHABILITASI","ISOLASI","INTENSIVE","INTERMEDIATE",
 "APD","PPE","K3","OSHA","JSA","HAZARD","RISIKO","EVAKUASI",
 "DAMKAR","APAR","HYDRANT","AWARENESS","ERGONOMI","SANITASI",
 "HYGIENE","VAKSIN","MEDIS","DOKTER","PERAWAT","AMBULANS",
 "ICU","FARMASI","DIAGNOSA","TERAPI"
];

const SIZE = 20;
const grid = Array.from({ length: SIZE }, () =>
  Array.from({ length: SIZE }, () => "")
);

// Arah mudah dibaca
const DIR = [
  [0,1],   // mendatar
  [1,0],   // menurun
  [-1,1]   // diagonal naik kanan
];

let score = 0;
const foundWords = new Set();

function rand(n){ return Math.floor(Math.random()*n); }

function canPlace(word,r,c,dr,dc){
  for(let i=0;i<word.length;i++){
    let nr=r+i*dr, nc=c+i*dc;
    if(nr<0||nc<0||nr>=SIZE||nc>=SIZE) return false;
    if(grid[nr][nc] && grid[nr][nc]!==word[i]) return false;
  }
  return true;
}

function placeWord(word){
  for(let t=0;t<400;t++){
    let [dr,dc]=DIR[rand(DIR.length)];
    let r=rand(SIZE), c=rand(SIZE);
    if(canPlace(word,r,c,dr,dc)){
      for(let i=0;i<word.length;i++)
        grid[r+i*dr][c+i*dc]=word[i];
      return;
    }
  }
}

WORDS.forEach(placeWord);

// huruf pengganggu
for(let r=0;r<SIZE;r++){
  for(let c=0;c<SIZE;c++){
    if(!grid[r][c])
      grid[r][c]=String.fromCharCode(65+rand(26));
  }
}

// render grid
const table=document.getElementById("grid");
const cells=[];
grid.forEach((row,r)=>{
  const tr=document.createElement("tr");
  cells[r]=[];
  row.forEach((ch,c)=>{
    const td=document.createElement("td");
    td.textContent=ch;
    tr.appendChild(td);
    cells[r][c]=td;
  });
  table.appendChild(tr);
});

function clearHighlight(){
  cells.flat().forEach(td=>td.classList.remove("highlight"));
}

function searchWord(){
  clearHighlight();
  const word=document.getElementById("searchWord").value.toUpperCase();
  const msg=document.getElementById("message");
  if(!word){ msg.textContent=""; return; }

  for(let r=0;r<SIZE;r++){
    for(let c=0;c<SIZE;c++){
      for(let [dr,dc] of DIR){
        let ok=true, coords=[];
        for(let i=0;i<word.length;i++){
          let nr=r+i*dr, nc=c+i*dc;
          if(nr<0||nc<0||nr>=SIZE||nc>=SIZE ||
             grid[nr][nc]!==word[i]){
            ok=false; break;
          }
          coords.push([nr,nc]);
        }
        if(ok){
          coords.forEach(([rr,cc])=>{
            cells[rr][cc].classList.add("highlight");
          });

          if(!foundWords.has(word)){
            foundWords.add(word);
            score += 10;
            document.getElementById("score").textContent = score;
            msg.textContent = "✅ Ditemukan! +10 poin";
          } else {
            msg.textContent = "ℹ️ Kata ini sudah pernah ditemukan";
          }
          return;
        }
      }
    }
  }
  msg.textContent="❌ Kata tidak ditemukan";
}
</script>

</body>
</html>
